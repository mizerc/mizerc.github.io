<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Weather Station | The Mize Collection</title><meta name=keywords content="microproject"><meta name=description content="Given my sudden interest in exploring the potential of microcontrollers, I had to find a new project to try building.
So here we are, this time I decided to build a simple weather station with a display to show customizated information.
Product Specs
Let&rsquo;s define a few product specs to keep the project well scoped:

Be able to display temperature in Celsius/Fahrenheit, humidity in %, and pressure in hPa.
Be able to navigate thru pages using a physical button.
Each page should organize the data in a different way to test different layouts.
Be able to keep track of the 100 last samples for a specific time period (second, minute, hour, 3-hour, 8-hour, 24-hour).
Keep min and max value of each metric (temperature, humidity, pressure) for each time period.
Render a simple chart of the last N samples for a specific time period.
Display the amout of time since the last reset.
Display the current page number.

Hardware
Microcontroller
I will be using the HiLetgo ESP-32D Development Board.
It is a development board that comes with a ESP32-D0WD-V3 microcontroller, serial communication over USB, a voltage regulator, 38 pins (which supports GPIO, I2C, SPI, etc.) and a few other components."><meta name=author content><link rel=canonical href=https://mizerc.github.io/posts/projects/iot-weather-station/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://mizerc.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mizerc.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mizerc.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://mizerc.github.io/apple-touch-icon.png><link rel=mask-icon href=https://mizerc.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://mizerc.github.io/posts/projects/iot-weather-station/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-NSFZNK7SSK"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NSFZNK7SSK")</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.css integrity=sha384-o3WH+1yEhq+grOgz1BVYTZPyTlMXrDxnjN1By9/ba94JqJhva6wFm2Hb+URQX53v crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.js integrity=sha384-C5yZTsgLOfuizO9kb+hrB8uSBwwvZ4yenKWU0KmWl+7bkL6Tph/KbcOa3S4zdoRE crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js integrity=sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta property="og:url" content="https://mizerc.github.io/posts/projects/iot-weather-station/"><meta property="og:site_name" content="The Mize Collection"><meta property="og:title" content="Weather Station"><meta property="og:description" content="Given my sudden interest in exploring the potential of microcontrollers, I had to find a new project to try building. So here we are, this time I decided to build a simple weather station with a display to show customizated information.
Product Specs Let’s define a few product specs to keep the project well scoped:
Be able to display temperature in Celsius/Fahrenheit, humidity in %, and pressure in hPa. Be able to navigate thru pages using a physical button. Each page should organize the data in a different way to test different layouts. Be able to keep track of the 100 last samples for a specific time period (second, minute, hour, 3-hour, 8-hour, 24-hour). Keep min and max value of each metric (temperature, humidity, pressure) for each time period. Render a simple chart of the last N samples for a specific time period. Display the amout of time since the last reset. Display the current page number. Hardware Microcontroller I will be using the HiLetgo ESP-32D Development Board. It is a development board that comes with a ESP32-D0WD-V3 microcontroller, serial communication over USB, a voltage regulator, 38 pins (which supports GPIO, I2C, SPI, etc.) and a few other components."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-01T00:00:00+00:00"><meta property="article:modified_time" content="2025-03-01T00:00:00+00:00"><meta property="article:tag" content="Microproject"><meta name=twitter:card content="summary"><meta name=twitter:title content="Weather Station"><meta name=twitter:description content="Given my sudden interest in exploring the potential of microcontrollers, I had to find a new project to try building.
So here we are, this time I decided to build a simple weather station with a display to show customizated information.
Product Specs
Let&rsquo;s define a few product specs to keep the project well scoped:

Be able to display temperature in Celsius/Fahrenheit, humidity in %, and pressure in hPa.
Be able to navigate thru pages using a physical button.
Each page should organize the data in a different way to test different layouts.
Be able to keep track of the 100 last samples for a specific time period (second, minute, hour, 3-hour, 8-hour, 24-hour).
Keep min and max value of each metric (temperature, humidity, pressure) for each time period.
Render a simple chart of the last N samples for a specific time period.
Display the amout of time since the last reset.
Display the current page number.

Hardware
Microcontroller
I will be using the HiLetgo ESP-32D Development Board.
It is a development board that comes with a ESP32-D0WD-V3 microcontroller, serial communication over USB, a voltage regulator, 38 pins (which supports GPIO, I2C, SPI, etc.) and a few other components."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://mizerc.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Weather Station","item":"https://mizerc.github.io/posts/projects/iot-weather-station/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Weather Station","name":"Weather Station","description":"Given my sudden interest in exploring the potential of microcontrollers, I had to find a new project to try building. So here we are, this time I decided to build a simple weather station with a display to show customizated information.\nProduct Specs Let\u0026rsquo;s define a few product specs to keep the project well scoped:\nBe able to display temperature in Celsius/Fahrenheit, humidity in %, and pressure in hPa. Be able to navigate thru pages using a physical button. Each page should organize the data in a different way to test different layouts. Be able to keep track of the 100 last samples for a specific time period (second, minute, hour, 3-hour, 8-hour, 24-hour). Keep min and max value of each metric (temperature, humidity, pressure) for each time period. Render a simple chart of the last N samples for a specific time period. Display the amout of time since the last reset. Display the current page number. Hardware Microcontroller I will be using the HiLetgo ESP-32D Development Board. It is a development board that comes with a ESP32-D0WD-V3 microcontroller, serial communication over USB, a voltage regulator, 38 pins (which supports GPIO, I2C, SPI, etc.) and a few other components.\n","keywords":["microproject"],"articleBody":"Given my sudden interest in exploring the potential of microcontrollers, I had to find a new project to try building. So here we are, this time I decided to build a simple weather station with a display to show customizated information.\nProduct Specs Let’s define a few product specs to keep the project well scoped:\nBe able to display temperature in Celsius/Fahrenheit, humidity in %, and pressure in hPa. Be able to navigate thru pages using a physical button. Each page should organize the data in a different way to test different layouts. Be able to keep track of the 100 last samples for a specific time period (second, minute, hour, 3-hour, 8-hour, 24-hour). Keep min and max value of each metric (temperature, humidity, pressure) for each time period. Render a simple chart of the last N samples for a specific time period. Display the amout of time since the last reset. Display the current page number. Hardware Microcontroller I will be using the HiLetgo ESP-32D Development Board. It is a development board that comes with a ESP32-D0WD-V3 microcontroller, serial communication over USB, a voltage regulator, 38 pins (which supports GPIO, I2C, SPI, etc.) and a few other components.\nSensor The BME280 is a sensor that measures temperature, humidity, and pressure. It uses I2C to communicate with the microcontroller. The sensor itself is made by Bosch. But online you can find different modules for the sensor that it easier to integrate with the microcontroller offering PINs and I2C interface.\nDisplay To be able to display the data, I got the 4\" TFT Display from Amazon. It’s a 480x320 pixel display. It uses SPI to communicate with the microcontroller.\nPower Supply I tried using 3 AA batteries in series to power the board (1.5V x 3 = 4.5V total) which is suitable for the voltage regulator of the board. You can connect the + and - of the battery to the Vin and GND pins of the board. The Vin pin goes to the voltage regulator of the board. It is a linear regulator that can handle voltages up to 10V and output 3.3V. The 5V USB port also goes to the same voltage regulator.\nHowever the capacity of the batteries is not enough to power the board for more than 1 day. The board is not in sleep mode and it is consuming around 100mA to power the board, sensor and display. That would require a capacity of around 2400mAh (100mA x 24h = 2.4Ah) from the batteries. One alternative is to use a 2S lithium battery that can provide more capacity, but I didn’t try it yet.\nSo I decide to use a USB wall adapter to power the board and not have to worry about the batteries.\nSoftware TODO\nResult Here we can see the page 2 where we have gauges for temperature in Celsius, temperature in Fahrenheit, humidity, and pressure. Below we have the chart of the last N samples and the time period of each sample (1 hour). The number on the right separated by the slack is the number of samples so far. Below we have the min/max values of each metric for the selected time period. Last, we have the total amount of time the board has been running since the last reset.\nNext Steps Store samples in sdcard. Enable touch screen to navigate thru pages instead of using a physical button. Explore ESP32 sleep mode to reduce power consumption. Build a external module to keep outside the house, communicate with the main board thru 333 Hz RF module. ","wordCount":"595","inLanguage":"en","datePublished":"2025-03-01T00:00:00Z","dateModified":"2025-03-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://mizerc.github.io/posts/projects/iot-weather-station/"},"publisher":{"@type":"Organization","name":"The Mize Collection","logo":{"@type":"ImageObject","url":"https://mizerc.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mizerc.github.io/ accesskey=h title="The Mize Collection (Alt + H)">The Mize Collection</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://mizerc.github.io/ title=Home><span>Home</span></a></li><li><a href=https://mizerc.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://mizerc.github.io/about/ title=About><span>About</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Weather Station</h1></header><div class=post-content><p>Given my sudden interest in exploring the potential of microcontrollers, I had to find a new project to try building.
So here we are, this time I decided to build a simple weather station with a display to show customizated information.</p><h3 id=product-specs>Product Specs<a hidden class=anchor aria-hidden=true href=#product-specs>#</a></h3><p>Let&rsquo;s define a few product specs to keep the project well scoped:</p><ul><li>Be able to display temperature in Celsius/Fahrenheit, humidity in %, and pressure in hPa.</li><li>Be able to navigate thru pages using a physical button.</li><li>Each page should organize the data in a different way to test different layouts.</li><li>Be able to keep track of the 100 last samples for a specific time period (second, minute, hour, 3-hour, 8-hour, 24-hour).</li><li>Keep min and max value of each metric (temperature, humidity, pressure) for each time period.</li><li>Render a simple chart of the last N samples for a specific time period.</li><li>Display the amout of time since the last reset.</li><li>Display the current page number.</li></ul><h2 id=hardware>Hardware<a hidden class=anchor aria-hidden=true href=#hardware>#</a></h2><h3 id=microcontroller>Microcontroller<a hidden class=anchor aria-hidden=true href=#microcontroller>#</a></h3><p>I will be using the <code>HiLetgo ESP-32D Development Board</code>.
It is a development board that comes with a <code>ESP32-D0WD-V3</code> microcontroller, serial communication over USB, a voltage regulator, 38 pins (which supports GPIO, I2C, SPI, etc.) and a few other components.</p><h3 id=sensor>Sensor<a hidden class=anchor aria-hidden=true href=#sensor>#</a></h3><p>The BME280 is a sensor that measures temperature, humidity, and pressure.
It uses I2C to communicate with the microcontroller.
The sensor itself is made by <a href=https://www.bosch-sensortec.com/products/environmental-sensors/humidity-sensors-bme280/>Bosch</a>.
But online you can find different modules for the sensor that it easier to integrate with the microcontroller offering PINs and I2C interface.</p><h3 id=display>Display<a hidden class=anchor aria-hidden=true href=#display>#</a></h3><p>To be able to display the data, I got the 4" TFT Display from Amazon.
It&rsquo;s a 480x320 pixel display.
It uses SPI to communicate with the microcontroller.</p><h3 id=power-supply>Power Supply<a hidden class=anchor aria-hidden=true href=#power-supply>#</a></h3><p>I tried using 3 AA batteries in series to power the board (1.5V x 3 = 4.5V total) which is suitable for the voltage regulator of the board.
You can connect the + and - of the battery to the Vin and GND pins of the board.
The Vin pin goes to the voltage regulator of the board.
It is a linear regulator that can handle voltages up to 10V and output 3.3V.
The 5V USB port also goes to the same voltage regulator.</p><p>However the capacity of the batteries is not enough to power the board for more than 1 day.
The board is not in sleep mode and it is consuming around 100mA to power the board, sensor and display.
That would require a capacity of around 2400mAh (100mA x 24h = 2.4Ah) from the batteries.
One alternative is to use a 2S lithium battery that can provide more capacity, but I didn&rsquo;t try it yet.</p><p>So I decide to use a USB wall adapter to power the board and not have to worry about the batteries.</p><h2 id=software>Software<a hidden class=anchor aria-hidden=true href=#software>#</a></h2><p>TODO</p><h2 id=result>Result<a hidden class=anchor aria-hidden=true href=#result>#</a></h2><p>Here we can see the page 2 where we have gauges for temperature in Celsius, temperature in Fahrenheit, humidity, and pressure.
Below we have the chart of the last N samples and the time period of each sample (1 hour).
The number on the right separated by the slack is the number of samples so far.
Below we have the min/max values of each metric for the selected time period.
Last, we have the total amount of time the board has been running since the last reset.</p><p><figure><img loading=lazy src=./assets/photo1.png#center width=90%></figure><figure><img loading=lazy src=./assets/photo2.png#center width=90%></figure><figure><img loading=lazy src=./assets/photo3.png#center width=90%></figure></p><h3 id=next-steps>Next Steps<a hidden class=anchor aria-hidden=true href=#next-steps>#</a></h3><ul><li>Store samples in sdcard.</li><li>Enable touch screen to navigate thru pages instead of using a physical button.</li><li>Explore ESP32 sleep mode to reduce power consumption.</li><li>Build a external module to keep outside the house, communicate with the main board thru 333 Hz RF module.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://mizerc.github.io/tags/microproject/>Microproject</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://mizerc.github.io/>The Mize Collection</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>